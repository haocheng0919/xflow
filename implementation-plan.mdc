# Implementation Plan - XFlow

This document tracks the progress of the XFlow project implementation based on the PRD.

## Phase 1: MVP (Minimal Viable Product)

- [x] Step 1: Project Initialization
    - Create Swift Package structure.
    - Set up dependencies (Twift, KeyboardShortcuts, LaunchAtLogin).
    - Configure `Package.swift` for macOS platform.
- [x] Step 2: Core Window Management (Transparent & Passthrough)
    - Implement `NSPanel` subclass for transparent, always-on-top window.
    - Implement click-through logic (ignoring mouse events on empty space).
    - Set up the main application entry point (`XFlowApp`).
- [x] Step 3: Data Layer (Twitter API)
    - Implement Twitter API Client wrapper (using `Twift` or `URLSession`).
    - Create Data Models for Tweets.
    - Implement Keychain storage for API Keys (Used UserDefaults for MVP).
- [x] Step 4: Danmaku Engine (Basic)
    - Implement the floating text view.
    - Implement basic animation (right to left scrolling).
    - Manage simple queues for tweets.
- [x] Step 5: Basic Settings & Menu Bar
    - Implement Menu Bar Extra (Status Bar Item).
    - Create a basic Settings View (API Key input, Start/Stop).

## Phase 2: Bento UI & Advanced Features

- [x] Step 6: Dashboard UI (Bento Grid)
    - Design and implement the modular dashboard (DashboardView).
    - Integrate Status, Sources, Visuals grids.
- [x] Step 7: Advanced Danmaku Logic
    - Collision detection (Lane management).
    - Speed and Opacity controls (SettingsStore integration).
    - Hover effects (Pause on hover).

## Phase 3: Web3 & Polish

- [x] Step 8: Web3 Features
    - Implement Regex for CA (Contract Address) detection (Solana & EVM).
    - Add logic to inject Logos (GMGN/Axiom Buttons).
    - Implement URL Scheme for trading redirection (via Button actions).
- [ ] Step 9: Optimization & Release
    - CPU usage optimization.
    - Final UI polish.
